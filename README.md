# ZeroLogic

A simple chess engine for graphing calculators.

## Use

We use the uci-protocol for communication with the engine.

Commands supported at the moment:
```
uci info
```
```
position startpos
```
```
position fen {fen}
```
```
go perft {depth}
```
```
go depth {depth}
```
```
go single {depth} (not released yet)
```

At the moment the only usable feature is movegeneration. **Work in progress.**

## Compilation

The application is only tested with windows and ndless, to compile for the latter some adjustments have to be made to the code. 
Most importantly the macros *BitCount*, *SquareOf* and *Bitloop* defined in [gamestate.h](src/gamestate.h) and [eval.h](src/eval.h) have to be changed from intrinsics to their standart library equivallents.
(PEXT does not have an std equivallent, use [this function](https://stackoverflow.com/a/21159523) instead) 

You will get some other errors on compilation, those are relatively trivial, you wont have any problems resovling them. (Multi platform compatibility is also a work in progress!!)

Remember to use the following flags in the Makefile generated by the ndless-sdk:
```
GCCFLAGS = -Wall -W -marm -std=c++23
LDFLAGS = -Wl,--nspireio
```

## Speed

We reach a speed of up to 600 Meganodes per second per thread in Movegeneration (Tested on a Core i5-11400H). This is due to heavy use of function inlining and templates (see [gamestate.h](src/gamestate.h)).
```
Overall nodes: 84,998,978,956
Time taken: 144,493ms
Mn/s: 588
s/Mn: 0.00169994
light distance equivalent: 0.509629 meters
```

The calculator version is capable of generating ~2 Meganodes per second. (Tested on a TI-nspire CX II-T)

Movegeneration is heavily inspired by Daniel Infuehr's [Gigantua](https://github.com/Gigantua/Gigantua/tree/2e82933789af6d83e7bfa2500b3de92e1698ddff).
