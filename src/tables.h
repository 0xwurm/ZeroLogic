#pragma once
#include "variables.h"

namespace ZeroLogic::Tables {
     enum Borders {
         north = 0xFF00000000000000,
         south = 0xFF,
         east = 0x101010101010101,
         west = 0x8080808080808080,
         northeast = (0xFF00000000000000 | 0x101010101010101),
         northwest = (0xFF00000000000000 | 0x8080808080808080),
         southeast = (0xFF | 0x101010101010101),
         southwest = (0xFF | 0x8080808080808080)
     };

     static Bitboard ZobristKeys[781]{
         9664795970712590336U,18297641194476670976U,9580570031479881728U,5365209237406590976U,2248705686165380096U,5646313616825794560U,10111812896781494272U,16964360990705426432U,16782144029641093120U,9223372036854775808U,15803764893836607488U,16931496432886792192U,18204345122775373824U,8612865933169308672U,7866256932469080064U,10854744283884126208U,17694377102721323008U,3809058565380580352U,126190597526927040U,5132805769007006720U,18122302983192829952U,18391915126145501184U,3247836742336258048U,5289416916230028288U,15176307531894540288U,2076367944439685120U,885267526778438912U,7298986241360693248U,13794241418347485184U,13434258701544144896U,9636952966515343360U,4373000046300993536U,3551754561307251200U,3472743813975514112U,11884421808972824576U,1003471718912820736U,490659705973944576U,13613824184242331648U,9558526379036289024U,6225415630139805696U,11988175854780000256U,16273812364742758400U,7619287109908840448U,17288670560645050368U,203437622783250624U,11571376515677462528U,13354343204836761600U,16481887057906073600U,16736531902275727360U,17551831479157469184U,12172443424701755392U,9223372036854775808U,10518167978204921856U,11377447371691202560U,6065739456366703616U,9223372036854775808U,9223372036854775808U,11030263948765155328U,11919210290848550912U,11174543372226719744U,9472914367781142528U,5800812110582788096U,8576978018623520768U,13414730612327716864U,9223372036854775808U,16898894775352997888U,803497254955947264U,10497328160529287168U,16415526267843899392U,9223372036854775808U,3078210366170084352U,935710600685667072U,5982838724749389824U,10657539445992480768U,2922542878012723712U,3364061027370859520U,1167789521511095808U,1931992593717709824U,7118407811594024960U,13911440557888712704U,3778239891321692160U,9417927330715594752U,2963631053745049088U,7945555581965529088U,5083220121492360192U,10655482542474260480U,3236917307582882816U,15148662510507503616U,1864665166972989440U,12285354908666830848U,531169930779630528U,10411054496244580352U,2129881943535773184U,14465453778817329152U,13945676697516138496U,7767180029083732992U,3044920172118127104U,16139697858742300672U,2848130992537696256U,7362332024441165824U,9898386045374488576U,13181393746346434560U,12935529565438347264U,7713619662853875712U,14417481866371989504U,4319740935129979904U,5781519050778773504U,12554099684500525056U,9223372036854775808U,10946898726209241088U,3085053886057209856U,3817848268313988096U,12939224547810590720U,15900295677178150912U,2079789158555919360U,17372566372965871616U,11163991029544996864U,9223372036854775808U,9274557909617283072U,4452752767136971776U,16684301612843982848U,13589126288430819328U,15990683930355941376U,16992289961233842176U,14044870720969711616U,13097036937696569344U,4509874497221211648U,5166250519775352832U,13786574553329199104U,10065376907223392256U,13087279106178932736U,9223372036854775808U,5040981391380310016U,6393308279603595264U,2021300996956455424U,16058173659433607168U,197167885743813504U,11263251791538188288U,12256975842796376064U,11681771245569980416U,4631115481448209408U,6865294650308292608U,13712519488971649024U,9223372036854775808U,9223372036854775808U,7896851848826527744U,1906091350820235520U,10027400494608879616U,1748956778252187136U,6350882467739697152U,9624069210698317824U,3214700036968038400U,15823837458389522432U,15648733828320520192U,18363464309469208576U,3318390203877999616U,9223372036854775808U,13033826498936342528U,10441112831816048640U,14780482078376611840U,17547967331911745536U,12875405959218606080U,8210333990530562048U,9087548966172061696U,2050591328290124032U,1333630474116489216U,16803418376086847488U,10187083138928742400U,13203611000331726848U,16727495072379940864U,9215964039083505664U,1868165204358022144U,4801550355303191552U,17100654012799375360U,3042756249907342336U,16325638365847003136U,8297839502475370496U,5151812148923857920U,15223531438045519872U,14216503819237804032U,3564447716944352256U,243055138707805056U,8838057792630394880U,6023528660315200512U,11713619926223525888U,3031221582102778368U,3076335134683431936U,17991797981897609216U,14110722676510875648U,9163244797071639552U,12151796067846246400U,3690381419051528192U,4163472329917891584U,11976885980699838464U,12466465901965643776U,4750668960435985408U,9590478238656794624U,6364828127700753408U,17971461885660459008U,13134463841428946944U,12941406088875479040U,1660660406382042112U,4785888002202253312U,13347391688849612800U,10642774973645197312U,5517351888262571008U,4937386079628866560U,16417592447540287488U,17288020228903962624U,14451250020523450368U,5807511333861322752U,17328734717510025216U,5363925139780271104U,13073701504279349248U,11212785400371163136U,16867080394233692160U,4715373512623286272U,17595125386173227008U,4291385109613115904U,16268886832071608320U,1720833308315935744U,2088639135574640128U,10064530048149893120U,144234082633099968U,3618799246749173760U,16145594177092931584U,9223372036854775808U,15151206796170649600U,4905154723509194752U,10400837033511882752U,3492240629916451840U,11394198065905958912U,10631531343104335872U,9439549093338574848U,9223372036854775808U,11468087402538463232U,16782197083390752768U,13165758481942226944U,4083039378260460544U,4298021681991615488U,12555493499426246656U,10246609091690481664U,11714637644832071680U,13795856314246721536U,13235412390254346240U,9223372036854775808U,7326696520912822272U,8255312593586019328U,18043513812752070656U,9452293234476736512U,4418413059374017536U,5613622542608025600U,13823433384480018432U,11918823151466262528U,12549853627388133376U,15261543606504929280U,10765410641075218432U,5263069536608153600U,18071881039703547904U,1756087380667969024U,8782901758799048704U,17842724962895474688U,8124629573777981440U,15093713865231931392U,15231827837902723072U,13749855522958436352U,17801732691285843968U,9399721656656592896U,2722821460906856960U,9223372036854775808U,16105264499559215104U,653794767519772288U,7964431234935480320U,9223372036854775808U,5243036481288665088U,15555827128268746752U,7356291132198260736U,8629025182886786048U,7675308748891701248U,18168362638287986688U,14268755673660354560U,1554044709130914048U,8165381323018203136U,12365779158212726784U,4783365127332264960U,6073530745212674048U,5554108106165354496U,9223372036854775808U,12163430820853067776U,2714433099525269504U,4649052660677408768U,17005468567158898688U,3672125982354823168U,18061591939573553152U,11608157803540639744U,12554456488292945920U,17549757094814992384U,15342741650354581504U,12074888625503416320U,6227926858867400704U,3048096427227880960U,10622992179431307264U,6923748062148261888U,2050916581851631872U,3886253138287877120U,1511371370531902976U,6617178051388192768U,11655878569248454656U,17213155550072279040U,12595172856852893696U,4168061687545071616U,14948030571413569536U,9223372036854775808U,13316047604804945920U,7026254669090522112U,2184128555721097216U,10487232085195337728U,7839852384918354944U,8087460839954710528U,15719873977652514816U,10950724929438552064U,2235063083819409152U,383047878238029952U,7179563240505604096U,15523905584970156032U,12225821801993883648U,13725497349745473536U,12384848415466018816U,6926647723001001984U,6645879784143197184U,1139216436620454400U,4242138309560897536U,8234206265234799616U,9188921966180929536U,1231691419378320128U,956388778501144704U,16440316676376172544U,7861056136811611136U,7206963103582466048U,8078985657334011904U,12914315879451136000U,767278677297871872U,16703716713398233088U,5055362536671730688U,17456464235607642112U,9223372036854775808U,9522257079797981184U,2045293076240214528U,16607581837630353408U,338654087588017792U,9223372036854775808U,10007085118739922944U,4075318211172170752U,8617316386786381824U,7244003119005786112U,7109499828058327040U,9223372036854775808U,14543224946419548160U,5749869068692654080U,12008316085365161984U,1537931777046688256U,11709495139214903296U,9020740248664646656U,14533721947112300544U,6975053023171995648U,15157978265474578432U,677073822375190272U,15641224372075610112U,9223372036854775808U,9223372036854775808U,7907737837546187776U,16930588172429512704U,7537486547083313152U,11287268767772819456U,15673014582937899008U,2134760466556942848U,1453679526239840768U,10318522052799567872U,454076596848346624U,10713497329148219392U,9223372036854775808U,2527138374511034880U,3707262123209259008U,14556260404044941312U,9683310018255450112U,9223372036854775808U,3266535028644704768U,11360115881872105472U,11597129839071805440U,8520793445686026240U,9037412393047270400U,12151953269650235392U,14425088102670336000U,16572649098890860544U,15354736829608632320U,6808388430340433920U,2872656934136705536U,5093351596306528256U,2118826193953462784U,5378386489791516672U,6526541899878248448U,9223372036854775808U,10996666301746880512U,4439138561198649344U,14026105502571114496U,9223372036854775808U,4531535255622045184U,9687229632300490752U,202832237999231296U,1238581936774139904U,9223372036854775808U,18152308497410254848U,8132042565992001536U,7050553107121635328U,15684803843364714496U,17919503135857055744U,6013687852445306880U,1139788701784557056U,4874405775694385152U,13492531786708443136U,4386104965310188544U,7321799440964035584U,10904176925976905728U,11340932415385421824U,5121037309981848576U,12661442985634701312U,16140818137431746560U,13486868771138824192U,15710936623437516800U,12435735708206438400U,7980053181863968768U,17650323238402605056U,7494264819819470848U,8278827915081699328U,13078236951487356928U,1600254315462023680U,593218071684190976U,6698184466045835264U,7947548824483173376U,8039833268861431808U,11163834907422314496U,5236431127241889792U,6066723915052886016U,825624947670454016U,13810354387513610240U,15199199312574957568U,4514628877143321600U,17910700160877381632U,8999877636742914048U,13457123112535369728U,17315448270977077248U,15850764143181840384U,6506809384253088768U,12004284203132012544U,5677174334431711232U,14016126489695827968U,9223372036854775808U,5442556315782114304U,1971814910437941248U,12866602442595072000U,17498904073065990144U,3656642518282218496U,3041367419408238080U,12348541637198493696U,9864266630917324800U,7524703823941498880U,12724828136288563200U,9223372036854775808U,15933493965942056960U,18414304826344763392U,4608973345397686272U,13995061388514582528U,18127637278811308032U,15977190878581661696U,2408612098871271936U,16473080197114687488U,16893009310509010944U,16253823491563032576U,13176691467057139712U,9223372036854775808U,14831334042958401536U,9223372036854775808U,7538331362433513472U,472250433052653760U,5976944602445936640U,1417538441692691456U,14592804728830332928U,4837547767404257280U,12160473961265653760U,15423256844217282560U,12618763808367396864U,11463024777604456448U,5028009877945459712U,8898153340775640064U,14690542931086213120U,9223372036854775808U,13775729750690353152U,17835079082643709952U,2458810123496504320U,8750174824282148864U,6139936182160100352U,9143603615748734976U,13618664428340781056U,1937504985186767872U,8778307672002693120U,11486916263390289920U,18078566037593118720U,7414014096683128832U,4508697990746423296U,12506530144141002752U,2334096076969344000U,12944900479450062848U,11364709526126092288U,3793045769571215360U,15004495933597530112U,410759360887739008U,5400411706552040448U,5910028631247304704U,8386968522494418944U,8981909870719799296U,156780838043928128U,4176494652201309184U,4595120279509346304U,4203297145577885184U,17391930459799928832U,13051122020130058240U,17833394455331753984U,9223372036854775808U,8731384310908956672U,9223372036854775808U,9223372036854775808U,14162873504406704128U,10990395902999351296U,11132678568251592704U,13327000927575304192U,10618681424749121536U,9223372036854775808U,9223372036854775808U,303949973776864128U,8858508641851747328U,9400300731899127808U,13190958863248355328U,348151463578966272U,13219384480275195904U,5190929473788823552U,6655597508992686080U,11418662851349354496U,14823860873820868608U,2044518103416664064U,8412923494487306240U,8479324250300088320U,17319028155875381248U,187440753231107136U,4670938907275855872U,12338938232089794560U,17711927456318887936U,17970313343107514368U,16989078713337819136U,914199172047577088U,14019058006408486912U,14931490452613828608U,1354932876914920960U,6686313018664728576U,4061814195871889408U,13773923381483282432U,14129008148760821760U,12857338566399371264U,15651219576260352000U,14808958268476112896U,6996065687975311360U,5275816454415656960U,9254941214539878400U,6236164899870599168U,9223372036854775808U,15852852529199190016U,3486193109699051520U,9223372036854775808U,3611065264304787456U,6345174492680189952U,13831859797304389632U,10544839298751565824U,7080032647029934080U,2991214311783768064U,2075691970528507392U,5337505913778401280U,9223372036854775808U,6760768087049175040U,10391073164547121152U,2286276379089748480U,450637900599820160U,16925740931712673792U,13367873462289342464U,11792708927622617088U,16457798749248913408U,13559355560188962816U,10531112552455194624U,6200762713449056256U,1239551268664581376U,11791634209942781952U,10009318906589667328U,5041788623317121024U,6107420664979321856U,2271251172236088320U,18156474499961520128U,8100129268997569536U,1570507743932459520U,10718542887784318976U,1249475087117747200U,6175103134361841664U,4464321075609298944U,16916816027478003712U,2860573505645506560U,6010811545329680384U,9058817994016005120U,7892315592829929472U,4685678728788118528U,2414900959031762944U,4334659554223596544U,10573837635487580160U,14101437173724379136U,15888184672411054080U,18229522526489974784U,15030352113869926400U,13438798656931536896U,1989081566734212608U,6562592804292683776U,13739738287757692928U,16785212757037103104U,12545117024342036480U,11493128087665600512U,16726722161663008768U,11189069208347226112U,11408256442293972992U,13968028480031125504U,18152684185771651072U,7098981818362357760U,260363335656248832U,14173903789015490560U,5812686339294980096U,14163421174298968064U,8980019291603721216U,2586378684994520064U,3887693824493710336U,200476616421872416U,15865955653217370112U,925508846863282176U,25907401504947580U,12360079527961028608U,15454013440512702464U,7008527640097095680U,4190491122872546304U,3662372060968762368U,11400933015959001088U,6139507517756125184U,17726153752828309504U,11589704923581218816U,3020988980792166400U,7424063846982445056U,6600261039107670016U,14393930389422305280U,11771030266988343296U,2203845580922458368U,16465653503625105408U,4382232476904865280U,12500418330505658368U,16826748554823872512U,15670489571554037760U,14829922353751293952U,11077072422228824064U,15795246402203262976U,16924460857284030464U,11747321792733429760U,3608440708058863616U,15607387783493173248U,2928443932224468992U,10669247044753543168U,4372445091363282944U,12284897390897258496U,16160483735220920320U,5282632682900164608U,16653147429904025600U,10952314526351405056U,1505076530996396032U,9223372036854775808U,6333122614905499648U,12145485652573999104U,14261865974244526080U,16330786746996494336U,9223372036854775808U,9701693675747782656U,11468657668529197056U,350013186820517760U,6321218649778982912U,6153941910264875008U,2812737748868388352U,9223372036854775808U,16810062745457516544U,6610638659801978880U,16153711257911611392U,7821527498484324352U,18143937214063458304U,11169408464969052160U,2319732812621613056U,1047291813732780032U,1800011807851708160U,9247855252657000448U,13398855678802567168U,12476923117284986880U,12895241720232828928U,984934087146867456U,1507804513675857408U,6188316516929672192U,3165773983982048256U,8844508639327187968U,3436413386590816256U,5790622333313032192U,8389170196521043968U,2786840187115035648U,7509823402418183168U,14506103334217668608U,18315943774704125952U,9223372036854775808U,262106620444002528U,14617519702903873536U,16495759045154594816U,17196342845103943680U,7828642949901722624U,9305893095624050688U,306271827058652864U,5411982389873481728U,7927078327712069632U,7829883947796598784U,12777387368551612416U,4893224926931124224U,2697993603483940864U,9223372036854775808U,10366565498534045696U,10579579109033979904U,7656252434347804672U,5738221966423697408U,11363417153350983680U,5966632415692111872U,16466070950558998528U,9223372036854775808U,17060028777906964480U,9318684907596648448U,9108968451809730560U,7934052200029865984U,13837420629355298816U,9829172951035994112U,4958438696947969024U,5060028127912669184U,6237553777121554432U,7940834957492337664U,13976474853675716608U,14967353295579068416U,17130562229408112640U,9223372036854775808U,16125448862979874816U,6921265091085561856U,15755817294422036480U,13568616571498092544U,5858642856476997632U,18153383833698570240U,2602420467796171776U,6052231896420860928U,17165433442882164736U,4048046007791068160U,11823710705565405184U,1186705938163881984U,6125112952000974848U,5545734561015233536U,2722872402382870528U,9704811664320948224U,17055642334198298624U,12268213973078624256U,2904753064734276608U,5280644674360487936U,14980831618816600064U,9007899757375772672U,4118018325406151168

     };

     static Bitboard king_attack_table[64] = { 770, 1797, 3594, 7188, 14376, 28752, 57504, 49216, 197123, 460039, 920078, 1840156, 3680312, 7360624, 14721248, 12599488, 50463488, 117769984, 235539968, 471079936, 942159872, 1884319744, 3768639488, 3225468928, 12918652928, 30149115904, 60298231808, 120596463616, 241192927232, 482385854464, 964771708928, 825720045568, 3307175149568, 7718173671424, 15436347342848, 30872694685696, 61745389371392, 123490778742784, 246981557485568, 211384331665408, 846636838289408, 1975852459884544, 3951704919769088, 7903409839538176, 15806819679076352, 31613639358152704, 63227278716305408, 54114388906344448, 216739030602088448, 505818229730443264, 1011636459460886528, 2023272918921773056, 4046545837843546112, 8093091675687092224, 16186183351374184448U, 13853283560024178688U, 144959613005987840, 362258295026614272, 724516590053228544, 1449033180106457088, 2898066360212914176, 5796132720425828352, 11592265440851656704U, 4665729213955833856 };
     static Bitboard knight_attack_table[64] = { 132096, 329728, 659712, 1319424, 2638848, 5277696, 10489856, 4202496, 33816580, 84410376, 168886289, 337772578, 675545156, 1351090312, 2685403152, 1075839008, 8657044482, 21609056261, 43234889994, 86469779988, 172939559976, 345879119952, 687463207072, 275414786112, 2216203387392, 5531918402816, 11068131838464, 22136263676928, 44272527353856, 88545054707712, 175990581010432, 70506185244672, 567348067172352, 1416171111120896, 2833441750646784, 5666883501293568, 11333767002587136, 22667534005174272, 45053588738670592, 18049583422636032, 145241105196122112, 362539804446949376, 725361088165576704, 1450722176331153408, 2901444352662306816, 5802888705324613632, 11533718717099671552U, 4620693356194824192, 288234782788157440, 576469569871282176, 1224997833292120064, 2449995666584240128, 4899991333168480256, 9799982666336960512U, 1152939783987658752, 2305878468463689728, 1128098930098176, 2257297371824128, 4796069720358912, 9592139440717824, 19184278881435648, 38368557762871296, 4679521487814656, 9077567998918656 };
     static Bitboard rook_right[8] = { 0, 0x101010101010101, 0x303030303030303, 0x707070707070707, 0xf0f0f0f0f0f0f0f, 0x1f1f1f1f1f1f1f1f, 0x3f3f3f3f3f3f3f3f, 0x7f7f7f7f7f7f7f7f };
     static Bitboard rook_left[8] = { 0xfefefefefefefefe, 0xfcfcfcfcfcfcfcfc, 0xf8f8f8f8f8f8f8f8, 0xf0f0f0f0f0f0f0f0, 0xe0e0e0e0e0e0e0e0, 0xc0c0c0c0c0c0c0c0, 0x8080808080808080, 0 };
     static Bitboard rook_down[8] = { 0, 0xff, 0xffff, 0xffffff, 0xffffffff, 0xffffffffff, 0xffffffffffff, 0xffffffffffffff };
     static Bitboard rook_up[8] = { 0xffffffffffffff00, 0xffffffffffff0000, 0xffffffffff000000, 0xffffffff00000000, 0xffffff0000000000, 0xffff000000000000, 0xff00000000000000, 0 };
     static Bitboard bishop_sw[15] = { 0, 0x80, 32960U, 8437984U, 2160124144U, 552991781112U, 141565895964924U, 36240869367020798U, 9277662557957324543U, 13898373402252476415U, 16208728824400052223U, 17363906535473807359U, 17941495391002296319U, 18230289816619057151U, 18374686479671623679U };
     static Bitboard bishop_ne[15] = { 18446744073709551487U, 18446744073709518655U, 18446744073701113631U, 18446744071549427471U, 18446743520717770503U, 18446602507813586691U, 18410503204342530817U, 9169081515752227072U, 4548370671457075200U, 2238015249309499392U, 1082837538235744256U, 505248682707255296U, 216454257090494464U, 72057594037927936U, 0U };
     static Bitboard bishop_se[15] = { 9223372036854775807U, 4575657221408423935U, 2251659076196892671U, 1089659453835313151U, 508659640507039743U, 218159733834514431U, 72909780498219007U, 284803830071167U, 1112514961215U, 4345761567U, 16975631U, 66311U, 259U, 1U, 0U };
     static Bitboard bishop_nw[15] = { 0, 9223372036854775808U, 13871086852301127680U, 16195084997512658944U, 17357084619874238464U, 17938084433202511872U, 18228584339875037184U, 18373834293211332608U, 18446459269879480448U, 18446742961194590400U, 18446744069363790048U, 18446744073692575984U, 18446744073709485304U, 18446744073709551356U, 18446744073709551614U };

     struct magic_square {
         Bitboard* ptr;
         long long   mask;
     };

     static magic_square rook[64];
     static magic_square bishop[64];
     static Bitboard slider_attack_table[107648];

     void fill();
     Bitboard get_attack_rook(Bitboard occupied, int index);
     Bitboard get_attack_bishop(Bitboard occupied, int index);
}
